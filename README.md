# MiniBackup - C++ æ•°æ®å¤‡ä»½

> è¯¾ç¨‹è®¾è®¡é¡¹ç›® | åŸºäº C++17 å®ç° | æ”¯æŒåŠ å¯†ä¸æ‰“åŒ…

## 1. é¡¹ç›®ç®€ä»‹ (Project Overview)
æœ¬é¡¹ç›®å®ç°äº†ä¸€æ¬¾å…·å¤‡å·¥ä¸šçº§ç‰¹æ€§çš„æ•°æ®å¤‡ä»½è½¯ä»¶ã€‚é‡‡ç”¨ **C++17** ç¼–å†™æ ¸å¿ƒé€»è¾‘ï¼Œé€šè¿‡ **CMake** è¿›è¡Œæ„å»ºï¼Œå¹¶å°è£…ä¸º **åŠ¨æ€é“¾æ¥åº“ (Shared Library)** ä»¥æ”¯æŒ Python GUI è°ƒç”¨ã€‚

###  é¡¹ç›®ç‰¹æ€§ä¸ä»»åŠ¡æ¸…å• (Feature To-Do List)

#### 1. æ ¸å¿ƒåŸºç¡€åŠŸèƒ½ (å·²å®Œæˆ)
> å¯¹åº”ä½œä¸šåŸºç¡€åˆ† (40åˆ†)
- [x] **æ•°æ®å¤‡ä»½**ï¼šæ”¯æŒé€’å½’æ‰«æç›®å½•æ ‘ï¼Œå®Œæ•´å¤åˆ¶æ–‡ä»¶æ•°æ®ã€‚
- [x] **æ•°æ®è¿˜åŸ**ï¼šèƒ½å¤Ÿå°†å¤‡ä»½æ•°æ®æ¢å¤åˆ°æŒ‡å®šè·¯å¾„ã€‚
- [x] **å¤‡ä»½éªŒè¯**ï¼šé›†æˆ CRC32 æ ¡éªŒç®—æ³•ï¼Œæ”¯æŒæ£€æµ‹æ–‡ä»¶æŸåä¸å®¹é”™å¤„ç†ã€‚(é¢å¤–ç®—åˆ†)
- [x] **åº•å±‚æ¶æ„**ï¼š
    - [x] æ ¸å¿ƒé€»è¾‘å°è£…ä¸ºåŠ¨æ€åº“ (`libcore.so` / `core.dll`)ã€‚
    - [x] å®ç° C-ABI æ¥å£å¯¼å‡ºï¼Œæ”¯æŒè·¨è¯­è¨€è°ƒç”¨ã€‚
    - [x] Docker ç¯å¢ƒæ ‡å‡†åŒ–æ„å»ºã€‚

#### 2. å·²å®Œæˆçš„æ‰©å±•åŠŸèƒ½ (å½“å‰å¾—åˆ†é¡¹)
> å¯¹åº”æ‰©å±•åˆ† (~30-40åˆ†)
- [x] **æ‰“åŒ…è§£åŒ…** (+10åˆ†)ï¼š
    - [x] å®ç°è‡ªå®šä¹‰ `.pck` äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ã€‚
    - [x] æ”¯æŒå¤šæ–‡ä»¶åˆå¹¶å­˜å‚¨ã€‚
- [x] **åŠ å¯†è§£å¯†** (+20åˆ†)ï¼š
    - [x] **RC4 æµå¯†ç **ï¼šå®ç°æ ‡å‡†æµå¼åŠ å¯†ç®—æ³•ã€‚
    - [x] **XOR æ··æ·†**ï¼šå®ç°åŸºç¡€åŠ å¯†ç®—æ³•ã€‚
    - [x] æ”¯æŒè§£åŒ…æ—¶è‡ªåŠ¨è¯†åˆ«åŠ å¯†æ¨¡å¼ã€‚
- [x] **ç‰¹æ®Šæ–‡ä»¶æ”¯æŒ** (+10åˆ† | ä¸ç¡®å®šï¼Œå› ä¸ºåªæ”¯æŒäº†è¿™ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªä¸å…³é”®)ï¼š
    - [x] **è½¯é“¾æ¥ (Symlink)**ï¼šæ”¯æŒ Linux ç¬¦å·é“¾æ¥çš„æ­£ç¡®å­˜å‚¨ä¸æ¢å¤ï¼ˆéå¤åˆ¶å†…å®¹ï¼‰ã€‚

#### 3. å¾…å¼€å‘/å¯é€‰æ‰©å±•åŠŸèƒ½ (Pending)
> å¯è®¤é¢†ä»»åŠ¡ï¼Œå»ºè®®ä¼˜å…ˆå®Œæˆ GUI

**ğŸ”´ é«˜ä¼˜å…ˆçº§ (High Priority)**
- [ ] **å›¾å½¢ç•Œé¢ (GUI)** (+10åˆ†)ï¼š
    - [ ] åŸºäº Python (Tkinter/PyQt) å¯¹æ¥åŠ¨æ€åº“æ¥å£ã€‚
    - [ ] å®ç°ç›®å½•é€‰æ‹©ã€ä¸€é”®å¤‡ä»½/è¿˜åŸ/æ‰“åŒ…çš„å¯è§†åŒ–æ“ä½œã€‚

**ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ (æ€§ä»·æ¯”é«˜ï¼Œå»ºè®®åš)**
- [ ] **å…ƒæ•°æ®æ”¯æŒ** (+10åˆ†)ï¼š
    - [ ] å¤‡ä»½æ—¶è®°å½•æ–‡ä»¶æƒé™ (`chmod`) å’Œä¿®æ”¹æ—¶é—´ (`mtime`)ã€‚
    - [ ] è¿˜åŸæ—¶æ¢å¤ä¸Šè¿°å…ƒæ•°æ®ã€‚
- [ ] **è‡ªå®šä¹‰å¤‡ä»½** (+3~9åˆ†)ï¼š
    - [ ] å®ç°æ–‡ä»¶ç­›é€‰å™¨ï¼ˆå¦‚ï¼šåªå¤‡ä»½ `.cpp`ï¼Œæˆ–è·³è¿‡ `.tmp`ï¼‰ã€‚

**âšª ä½ä¼˜å…ˆçº§ (è§†æ—¶é—´å……è£•åº¦è€Œå®š)**
- [ ] **å‹ç¼©è§£å‹** (+10åˆ†)ï¼šå®ç° RLE æˆ– LZ77 ç®—æ³•ä»¥å‡å°åŒ…ä½“ç§¯ã€‚
- [ ] **å®šæ—¶å¤‡ä»½** (+10åˆ†)ï¼šåŸºäºç®€å•çš„ Timer å®ç°å‘¨æœŸæ€§è°ƒç”¨ã€‚
- [ ] **å®æ—¶å¤‡ä»½** (+15åˆ†)ï¼šç›‘å¬æ–‡ä»¶ç³»ç»Ÿå˜åŠ¨ (inotify)ã€‚

## 2. é¡¹ç›®ç»“æ„ (Structure)

```text
minibackup/
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ BackupEngine.h    # æ ¸å¿ƒå¼•æ“æ¥å£
â”‚   â””â”€â”€ CRC32.h           # CRC æ ¡éªŒå·¥å…·
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.cpp          # å‘½ä»¤è¡Œå…¥å£ (CLI)
â”‚   â”œâ”€â”€ BackupEngine.cpp  # ä¸šåŠ¡é€»è¾‘å®ç° (RC4/XOR/Packéƒ½åœ¨è¿™é‡Œ)
â”‚   â””â”€â”€ Bridge.cpp        # C-API æ¥å£å±‚ (æš´éœ²ç»™ Python ä½¿ç”¨)
â”œâ”€â”€ CMakeLists.txt        # æ„å»ºè„šæœ¬ (ç”Ÿæˆ libcore.so å’Œ minibackup)
â”œâ”€â”€ Dockerfile            # æ ‡å‡†åŒ–ç¼–è¯‘ç¯å¢ƒ
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

## 3. å¿«é€Ÿå¼€å§‹ (Build & Run)
ä¸ºäº†ä¿è¯ç¯å¢ƒä¸€è‡´æ€§ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ Docker è¿›è¡Œæ„å»ºå’Œæµ‹è¯•ã€‚

#### 3.1 æ„å»ºé•œåƒ
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š
```aiignore
docker build -t minibackup_img .
```

#### 3.2 è¿›å…¥å¼€å‘ç¯å¢ƒ
```aiignore
# Linux / Mac:
docker run -it --rm -v "$(pwd):/usr/src/minibackup" minibackup_img /bin/bash

# Windows (PowerShell):
docker run -it --rm -v "${PWD}:/usr/src/minibackup" minibackup_img /bin/bash
```

#### 3.3 ç¼–è¯‘é¡¹ç›®
è¿›å…¥å®¹å™¨åæ‰§è¡Œï¼š
```aiignore
cd build
cmake ..
make
```
ç¼–è¯‘æˆåŠŸåï¼Œbuild ç›®å½•ä¸‹ä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ minibackup å’ŒåŠ¨æ€åº“ libcore.soã€‚

## 4. ä½¿ç”¨è¯´æ˜ (Usage)

#### 4.1 åŸºç¡€å¤‡ä»½ä¸è¿˜åŸ
```aiignore
# å¤‡ä»½ (å¤åˆ¶æ¨¡å¼)
./minibackup backup <æºç›®å½•> <å¤‡ä»½ç›®å½•>

# è¿˜åŸ
./minibackup restore <å¤‡ä»½ç›®å½•> <ç›®æ ‡ç›®å½•>

# æ ¡éªŒ (æ£€æŸ¥å¤‡ä»½æ•°æ®æ˜¯å¦æŸå)
./minibackup verify <å¤‡ä»½ç›®å½•>
```

#### 4.2 æ‰“åŒ…ä¸åŠ å¯† (Pack & Encrypt)

æ”¯æŒå°†æ–‡ä»¶å¤¹æ‰“åŒ…æˆä¸€ä¸ª .pck æ–‡ä»¶ï¼Œå¹¶å¯é€‰åŠ å¯†ã€‚

è¯­æ³•ï¼š pack <æº> <ç›®æ ‡æ–‡ä»¶> [å¯†ç ] [ç®—æ³•: -rc4 | -xor]

ç¤ºä¾‹ï¼š
```aiignore
# 1. æ™®é€šæ‰“åŒ… (æ— å¯†ç )
./minibackup pack ./src ./data.pck

# 2. RC4 åŠ å¯†æ‰“åŒ… (æ¨èï¼Œå®‰å…¨æ€§é«˜)
./minibackup pack ./src ./secret.pck 123456 -rc4

# 3. XOR åŠ å¯†æ‰“åŒ… (é€Ÿåº¦å¿«)
./minibackup pack ./src ./fast.pck 123456 -xor
```

#### 4.3 è§£åŒ…ä¸è§£å¯† (Unpack & Decrypt)
ç¨‹åºä¼šè‡ªåŠ¨è¯†åˆ«åŠ å¯†ç®—æ³•ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šç®—æ³•å‚æ•°ã€‚

è¯­æ³•ï¼š unpack <åŒ…æ–‡ä»¶> <ç›®æ ‡ç›®å½•> [å¯†ç ]

ç¤ºä¾‹ï¼š
```aiignore
# è§£åŒ… RC4 åŠ å¯†çš„æ–‡ä»¶
./minibackup unpack ./secret.pck ./out_dir 123456
```

## 5. å¼€å‘è€…æŒ‡å— (For GUI Team)
æœ¬é¡¹ç›®å·²ç”ŸæˆåŠ¨æ€åº“ libcore.soï¼Œå¹¶æš´éœ²äº† C é£æ ¼æ¥å£ï¼Œä½äº src/Bridge.cppã€‚